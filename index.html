<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeblessHunter - Find Businesses Without Websites</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Onboarding Form -->
    <div id="onboardingContainer" class="onboarding-container">
        <!-- Step 1: Welcome -->
        <div id="step1" class="onboarding-step active">
            <div class="step-content">
                <div class="welcome-icon">üéØ</div>
                <h1>Welcome to WeblessHunter</h1>
                <p class="welcome-text">The professional lead generation platform that identifies businesses without digital presence and converts them into high-value clients through strategic outreach.</p>
                <button onclick="nextStep()" class="btn-primary btn-large">Get Started</button>
            </div>
        </div>

        <!-- Step 2: User Info -->
        <div id="step2" class="onboarding-step">
            <div class="step-content">
                <h2>Tell us about yourself</h2>
                <p>Help us personalize your experience</p>
                
                <div class="form-group">
                    <label for="userName">Your Name</label>
                    <input type="text" id="userName" placeholder="Enter your full name">
                </div>
                
                <div class="form-group">
                    <label for="userRole">What do you do?</label>
                    <select id="userRole">
                        <option value="">Select your role</option>
                        <option value="freelancer">Freelancer</option>
                        <option value="agency">Agency Owner</option>
                        <option value="consultant">Consultant</option>
                        <option value="developer">Web Developer</option>
                        <option value="marketer">Digital Marketer</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="step-actions">
                    <button onclick="prevStep()" class="btn-secondary">Back</button>
                    <button onclick="nextStep()" class="btn-primary">Continue</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Location -->
        <div id="step3" class="onboarding-step">
            <div class="step-content">
                <h2>Your Location</h2>
                <p>This helps us provide better search results</p>
                
                <div class="form-group">
                    <label for="userCountry">Country</label>
                    <input type="text" id="userCountry" list="countryList" placeholder="Type to search countries...">
                    <datalist id="countryList">
                        <option value="Ireland">Ireland</option>
                        <option value="United Kingdom">United Kingdom</option>
                        <option value="United States">United States</option>
                        <option value="Canada">Canada</option>
                        <option value="Australia">Australia</option>
                        <option value="Germany">Germany</option>
                        <option value="France">France</option>
                        <option value="Spain">Spain</option>
                        <option value="Italy">Italy</option>
                        <option value="Netherlands">Netherlands</option>
                        <option value="India">India</option>
                        <option value="Afghanistan">Afghanistan</option>
                        <option value="Albania">Albania</option>
                        <option value="Algeria">Algeria</option>
                        <option value="Argentina">Argentina</option>
                        <option value="Austria">Austria</option>
                        <option value="Bangladesh">Bangladesh</option>
                        <option value="Belgium">Belgium</option>
                        <option value="Brazil">Brazil</option>
                        <option value="Bulgaria">Bulgaria</option>
                        <option value="China">China</option>
                        <option value="Croatia">Croatia</option>
                        <option value="Czech Republic">Czech Republic</option>
                        <option value="Denmark">Denmark</option>
                        <option value="Egypt">Egypt</option>
                        <option value="Finland">Finland</option>
                        <option value="Greece">Greece</option>
                        <option value="Hungary">Hungary</option>
                        <option value="Indonesia">Indonesia</option>
                        <option value="Iran">Iran</option>
                        <option value="Iraq">Iraq</option>
                        <option value="Israel">Israel</option>
                        <option value="Japan">Japan</option>
                        <option value="Jordan">Jordan</option>
                        <option value="Kenya">Kenya</option>
                        <option value="Malaysia">Malaysia</option>
                        <option value="Mexico">Mexico</option>
                        <option value="Morocco">Morocco</option>
                        <option value="New Zealand">New Zealand</option>
                        <option value="Nigeria">Nigeria</option>
                        <option value="Norway">Norway</option>
                        <option value="Pakistan">Pakistan</option>
                        <option value="Philippines">Philippines</option>
                        <option value="Poland">Poland</option>
                        <option value="Portugal">Portugal</option>
                        <option value="Romania">Romania</option>
                        <option value="Russia">Russia</option>
                        <option value="Saudi Arabia">Saudi Arabia</option>
                        <option value="Singapore">Singapore</option>
                        <option value="South Africa">South Africa</option>
                        <option value="South Korea">South Korea</option>
                        <option value="Sweden">Sweden</option>
                        <option value="Switzerland">Switzerland</option>
                        <option value="Thailand">Thailand</option>
                        <option value="Turkey">Turkey</option>
                        <option value="Ukraine">Ukraine</option>
                        <option value="United Arab Emirates">United Arab Emirates</option>
                        <option value="Vietnam">Vietnam</option>
                    </datalist>
                </div>
                
                <div class="location-access">
                    <button onclick="requestLocationAccess()" class="btn-secondary btn-location">
                        üìç Allow Location Access
                    </button>
                    <p class="location-status" id="locationStatus">Optional: Get your precise location for better results</p>
                </div>
                
                <div class="step-actions">
                    <button onclick="prevStep()" class="btn-secondary">Back</button>
                    <button onclick="nextStep()" class="btn-primary">Continue</button>
                </div>
            </div>
        </div>

        <!-- Step 4: API Key -->
        <div id="step4" class="onboarding-step">
            <div class="step-content">
                <h2>Google Maps API Key</h2>
                <p>Required to search for businesses</p>
                
                <div class="api-info">
                    <div class="info-box">
                        <h4>How to get your API key:</h4>
                        <ol>
                            <li>Go to <a href="https://console.cloud.google.com/" target="_blank">Google Cloud Console</a></li>
                            <li>Create a new project or select existing one</li>
                            <li>Enable "Places API" and "Maps JavaScript API"</li>
                            <li>Create credentials (API Key)</li>
                            <li>Copy and paste the key below</li>
                        </ol>
                        <a href="https://developers.google.com/maps/documentation/places/web-service/get-api-key" target="_blank" class="help-link">
                            üìñ Detailed Guide
                        </a>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="apiKey">Google Maps API Key</label>
                    <input type="text" id="apiKey" placeholder="Enter your Google Maps API key">
                    <div class="api-status" id="apiStatus"></div>
                </div>
                
                <div class="step-actions">
                    <button onclick="prevStep()" class="btn-secondary">Back</button>
                    <button onclick="validateAndFinish()" class="btn-primary" id="finishBtn">
                        <span id="finishBtnText">Validate & Start Hunting</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (Hidden initially) -->
    <div id="mainApp" class="main-app" style="display: none;">
    <div class="dashboard">
        <!-- Sidebar/Search Panel -->
        <div class="sidebar">
            <header>
                <h1>üéØ WeblessHunter</h1>
                <p>Hunt down businesses without websites</p>
            </header>

            <div class="search-section">
                <div class="input-group" style="display: none;">
                    <label for="location">Location</label>
                    <input type="text" id="location" placeholder="Click on map or use current location" readonly>
                </div>
                
                <div class="control-group">
                    <label for="businessType">Business Type</label>
                    <select id="businessType">
                        <option value="all">All Types</option>
                        <option value="restaurant">Restaurants</option>
                        <option value="store">Retail Stores</option>
                        <option value="beauty_salon">Beauty Salons</option>
                        <option value="gym">Gyms & Fitness</option>
                        <option value="car_repair">Auto Services</option>
                        <option value="lawyer">Legal Services</option>
                        <option value="dentist">Healthcare</option>
                        <option value="real_estate_agency">Real Estate</option>
                        <option value="accounting">Accounting</option>
                        <option value="plumber">Home Services</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="searchIntensity">Search Intensity</label>
                    <select id="searchIntensity">
                        <option value="hyperlocal">üè† Walking Distance (0.1-1km)</option>
                        <option value="neighborhood">üèòÔ∏è Neighborhood (0.1-2km)</option>
                        <option value="district">üåÜ District (0.1-5km)</option>
                        <option value="citywide">üèôÔ∏è Citywide (0.1-20km)</option>
                        <option value="regional">üåç Regional (0.1-50km)</option>
                    </select>
                </div>
                
                <button onclick="useCurrentLocation()" class="btn-secondary" style="width: 100%; margin-bottom: 12px;">
                    üìç Use Current Location
                </button>
                
                <button onclick="searchBusinesses()" class="btn-primary" id="searchBtn">
                    <div class="btn-content">
                        <div class="search-radar-btn"></div>
                        <span id="btnText">üîç Find All Businesses</span>
                    </div>
                    <div class="progress-bar-btn" id="btnProgress"></div>
                </button>

                <div class="search-status" id="searchStatus">
                    <div class="status-text" id="statusText">Initializing search...</div>
                    <div class="status-details" id="statusDetails">Preparing to scan your area</div>
                    <div class="status-stats">
                        <div class="status-stat">
                            <span class="status-stat-value" id="areasScanned">0</span>
                            <span class="status-stat-label">Areas</span>
                        </div>
                        <div class="status-stat">
                            <span class="status-stat-value" id="businessesFound">0</span>
                            <span class="status-stat-label">Found</span>
                        </div>
                        <div class="status-stat">
                            <span class="status-stat-value" id="potentialClients">0</span>
                            <span class="status-stat-label">Clients</span>
                        </div>
                    </div>
                </div>

                <div class="stats-panel" id="statsPanel" style="display: none;">
                    <h3>Search Statistics</h3>
                    <div class="stat-item">
                        <span class="stat-label">Total Found:</span>
                        <span class="stat-value" id="totalFound">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Without Website:</span>
                        <span class="stat-value" id="withoutWebsite">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Potential Revenue:</span>
                        <span class="stat-value" id="potentialRevenue">$0</span>
                    </div>
                </div>

                <div class="export-section">
                    <h3>Export Data</h3>
                    <button onclick="exportToCSV()" class="btn-secondary">üìä Export CSV</button>
                    <button onclick="exportToJSON()" class="btn-secondary">üìÑ Export JSON</button>
                    <button onclick="exportSelected()" class="btn-secondary" id="exportSelectedBtn" disabled>üìã Export Selected</button>
                    <div class="selected-info" id="selectedInfo" style="display: none;">
                        <span id="selectedCount">0 selected</span>
                    </div>
                </div>
                
                <!-- Factory Reset Button -->
                <button onclick="factoryReset()" class="btn-outline-danger btn-factory-reset">
                    üîÑ Factory Reset
                </button>
                
                <!-- Sticky Footer -->
                <div class="sidebar-footer">
                    <p>Designed and Developed by <a href="https://www.aaqidmasoodi.com" target="_blank">Aaqid Masoodi</a></p>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="toolbar">
                <div class="search-info">
                    <h2 id="results-title">Ready to Search</h2>
                    <p id="results-subtitle">Enter a location to find businesses without websites</p>
                </div>
                <div class="toolbar-actions">
                    <!-- Table View Controls -->
                    <div id="tableControls" style="display: none;">
                        <input type="text" id="searchFilter" placeholder="Filter results..." oninput="filterResults()">
                        <select id="sortBy" onchange="sortResults()">
                            <option value="distance">Sort by Distance</option>
                            <option value="name">Sort by Name</option>
                            <option value="rating">Sort by Rating</option>
                            <option value="priority">Sort by Priority</option>
                        </select>
                        <button onclick="selectAll()" class="btn-secondary">Select All</button>
                    </div>
                    
                    <!-- Map View Controls -->
                    <div id="mapControls">
                        <div class="map-filter-controls">
                            <label class="radio-label">
                                <input type="radio" name="mapFilter" value="all" checked onchange="filterMapView()">
                                <span>üè¢ All Businesses</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="mapFilter" value="potential" onchange="filterMapView()">
                                <span>üí∞ Potential Clients Only</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="mapFilter" value="withWebsites" onchange="filterMapView()">
                                <span>üåê Businesses With Websites Only</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- View Tabs -->
            <div class="view-tabs">
                <button class="tab-btn active" onclick="switchView('map')" id="mapTab">üó∫Ô∏è Map View</button>
                <button class="tab-btn" onclick="switchView('table')" id="tableTab">üìä Table View</button>
            </div>

            <!-- Table View -->
            <div class="table-container" id="tableView">
                <table id="results-table">
                    <thead>
                        <tr>
                            <th><input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()"></th>
                            <th>Business Name</th>
                            <th>Phone Number</th>
                            <th>Address</th>
                            <th>Distance</th>
                            <th>Rating</th>
                            <th>Estimated Value</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="results-body">
                        <tr class="empty-state">
                            <td colspan="8">
                                <div class="empty-content">
                                    <div class="empty-icon">üîç</div>
                                    <h3>No search results yet</h3>
                                    <p>Use the search panel to find businesses without websites</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Map View -->
            <div class="map-container" id="mapView" style="display: none;">
                <div id="resultsMap" style="width: 100%; height: 100%; border-radius: 8px;"></div>
            </div>
        </div>
        </div>
    </div>
    </div>

    <script src="app.js"></script>
    <script id="googleMapsScript"></script>
</body>
</html>
